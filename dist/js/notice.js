"use strict";!function(t){function a(){o?(c.remove(),n()):(n(),o.addClass("slideInRight"))}function n(){c.id="notice"+-new Date,e.append(i(c.data)),o=t("#"+c.id),t("[data-cb]",o).each(function(a,n){var i=t(n),e=i.data("cb");i.on("click",function(t){t.preventDefault();var a=c.pager.current-1;c.callback[e](c.data,c.dataList,a)})}),t("[data-action]",o).each(function(a,n){var i=t(n),e=i.data("action");i.on("click",function(t){t.preventDefault(),c[e]()})})}function i(t){var a="";c.pager.total>1&&(a='<div class="fs-notice-footer fs-cf">\n                        <div class="fs-fl">\n                            <i class="iconfont icon-check" data-cb="readAll">全部标记为已读</i>\n                        </div>\n                        <div class="fs-fr fs-noselect">\n                            <i class="iconfont icon-arrow-left" title="上一条" data-action="prev"></i>\n                            '+c.pager.current+"/"+c.pager.total+'\n                            <i class="iconfont icon-arrow-right" title="下一条" data-action="next"></i>\n                        </div>\n                    </div>');var n="";return c.callback.later&&(n='<i class="iconfont icon-time" title="稍后处理" data-cb="later"></i>'),'<div class="fs-notice-wrapper fs-notice-'+c.type+'" id="'+c.id+'">\n                    <div class="fs-notice-header">\n                        <div class="fs-notice-title">\n                            <span data-cb="read">'+t.title+'</span>\n                        </div>\n                        <div class="fs-notice-actions">\n                            '+n+'\n                            <i class="iconfont icon-close" title="关闭" data-action="close"></i>\n                        </div>\n                    </div>\n                    <div class="fs-notice-body">\n                        <div class="fs-notice-custom-body">'+t.desc+"</div>\n                    </div>\n                    "+a+"\n                </div>"}var c={id:"",type:"default",data:"",dataList:[],callback:{read:function(){},later:null,readAll:function(){}},pager:{current:1,total:1},initData:function(a){"array"==t.type(a)?this.dataList=a:(this.dataList=[],this.dataList.push(a)),this.pager.total=this.dataList.length,this.getData(1)},getData:function(t){this.data=this.dataList[t-1],this.pager.current=t},prev:function(){var t=this.pager.current;t>1&&(this.getData(t-1),a())},next:function(){var t=this.pager.current;t<this.pager.total&&(this.getData(t+1),a())},close:function(t){o.addClass("slideOutRight"),setTimeout(function(){c.remove(),t&&t()},500)},remove:function(){o.remove(),o=null}},e=t("body"),o=null;t.notice=function(t,n,i){if(!o){c.initData(t);for(var e in n)c.callback[e]=n[e];c.type=i||"default",a()}},t.notice.close=function(){o&&c.close()},["info","success","warning","error"].forEach(function(a){t.notice[a]=function(n,i){return t.notice(n,i,a)}}),t.notice.add=function(a){c.dataList.unshift(a),t.notice.refresh(c.dataList)},t.notice.refresh=function(n){n.length<1||!n?t.notice.close():(c.initData(n),a())}}(jQuery);
//# sourceMappingURL=notice.js.map
